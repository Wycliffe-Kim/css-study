# Responsive design

이전의 웹 디자인은 특정 스크린에 맞춰져 있었다. 그러나 시간이 가면서 다양한 스크린에 대응할 필요가 생겼다. 하나에 타겟하여 만들어진 페이지는 다른 스크린에서 볼 수는 있지만 사용자 편의성을 저해하는 긴 스크롤이 생기는 경우가 허다하고, 때로는 작은 화면에서 보이지 않아도 되는 내용이 보이기도 한다. 이를 위해서 생겨난 개념이 반응형 웹 디자인이다.

## 과거의 웹 레이아웃

HTML은 본질적으로 반응형이다. 만들어진 페이지를 작은 화면에서 보면 자동으로 컨텐츠가 해당 크기에 맞춰져 표출된다.

그럼에도 문제가 있는데, 그것은 본래의 크기 그대로 긴 스크롤로 표출된다는 것이다. 혹은 너무 작은 텍스트, 너무 큰 텍스트로 표시되기도 한다.

## 반응형 디자인

### Media queries

미디어 쿼리를 사용하면 사용자의 환경에 따라 선택자를 지정하여 페이지를 레이아웃 할 수 있다.

예를 들어, 다음 `.container` 선택자는 아래 두 가지 조건이 만족되어야만 적용된다.

``` css
@media screen and (min-width: 80rem) {
  .container {
    margin: 1em 2em;
  }
}
```

- 현재 웹 페이지가 screen media로 표시되고 있는가?
- 뷰포트가 최소 `80rem` 넓이인가?

다양한 화면 크기를 지원하도록 여러 미디어 쿼리를 지정할 수 있다. 참고로, 이와 같이 미디어 쿼리에 의해 변경되는 지점을 break point(중단점)라고 한다.

### Flexible grids

반응형 사이트는 각 중단점들 사이에 레이아웃만 변경하지 않는다. 보통 이는 flexible grid를 통해서 구현된다.

flexbile grid를 사용할 때에는, 사용자에게 보이는 컨텐츠가 보기 안 좋아 보이는 지점을 중단점으로 지정해야 한다. 

이전에는 [`float`](../3.%20Floats/)과 `min-width`, `max-width` 등을 통해서 flexible grid를 구현하곤 했다. 그러나 이제는 그런 방식이 아니라 다른 방식으로 구현할 수 있다.

#### [Multicol](../5.%20Multiple%20column%20layout/)

`columm-count`를 설정하여 다단 레이아웃을 만들 수 있다. 단의 갯수를 설정하면 사이즈가 늘어나거나 줄어들어도 해당 갯수를 유지한 채로 동작하게 될 것이다.

혹은 `column-width`로 다단을 설정할 수도 있다.

``` css
.container {
  column-count: 3;
}

.wrapper {
  column-width: 10em;
}
```

#### [Flexbox](../1.%20Flexbox/)

`display: flex`를 통해서 레이아웃을 반응형으로 구현할 수도 있다.

``` css
.container {
  display: 'flex',
  justify-content: space-around;
}

.item {
  flex: 1 200px;
}
```

#### [Grids](../2.%20Grids/)

또한 `display: grid`를 사용해서도 반응형 레이아웃을 구현할 수 있다.

``` css
.container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
}
```

### 반응형 이미지

이미지가 자신을 감싸고 있는 컨테이너의 크기보다 늘어나지 않도록 하기 위해서 다음과 같이 사용할 수도 있다.

``` css
img {
  max-width: 100%
}
```

하지만 성능 상의 이슈로 이렇게 하는 것이 좋지 못하다. 특히 모바일 환경에서는 더욱 그러하다. 그렇기 때문에 그런 경우에는 `img` 태그의 `srcset`, `size`를 사용하거나 `picture` 태그를 사용한다.

### 반응형 타이포그래피

이는 중단점 별로 글꼴 크기를 변경하는 것을 가리킨다.

``` css
html {
  font-size: 1em;
}

h1 {
  font-size: 2rem;
}

@media (min-width: 1200px) {
  h1 {
    font-size: 4rem;
  }
}
```

물론 텍스트의 크기를 뷰포트의 크기로 지정하여 사용할 수도 있다. 그러나 그렇게 되면 확대를 해도 그 크기로 유지되기 때문에 좋지 않다. 그럴 경우에는 고정 크기와 뷰포트의 크기를 같이 두어 `calc` 함수를 사용하도록 한다.

``` css
h1 {
  font-size: calc(1.5rem + 3vw);
}
```

### `viewport` `meta` 태그

``` html
<head>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
</head>
```

위의 메타 태그는 모바일 브라우저에게 표시 영역의 너비를 장치 너비로 설정하고 문서를 100%로 조정해야 한다고 말해준다.

이것이 필요한 이유는 모바일 브라우저가 자신의 뷰포트 너비에 대한 정보를 잘못 제공하는 경우가 있기 때문이다.

이 메타 태그는 원래 아이폰이 출시되고 나서 사람들이 작은 휴대전화 화면에서 웹 사이트를 보기 시작했으 때 대부분의 사이트가 모바일에 최적화되지 않았기 때문에 존재한다.

만약에 이것이 정의되지 않는다면 특정 모바일 브라우저에서는 미디어 쿼리가 의도한 대로 동작하지 않을 수 있다.

그러므로 html head에 위 태그를 항상 포함시키는 것이 좋다.

메타 태그에 넣을 수 있는 다른 속성들이 있기는 하지만 보통은 위의 내용만으로도 충분할 것이다.

- `initial-scale`: 페이지의 초기 줌 레벨을 설정한다.
- `height`: 뷰포트의 높이를 특정 높이로 지정한다.
- `minimum-scale`: 최소 줌 레벨을 설정한다.
- `maximum-scale`: 최대 줌 레벨을 설정한다.
- `user-scalable`: 이 설정이 `no`가 되면 줌을 비활성화한다.